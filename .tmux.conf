# ████████╗███╗   ███╗██╗   ██╗██╗  ██╗
# ╚══██╔══╝████╗ ████║██║   ██║╚██╗██╔╝
#    ██║   ██╔████╔██║██║   ██║ ╚███╔╝ 
#    ██║   ██║╚██╔╝██║██║   ██║ ██╔██╗ 
#    ██║   ██║ ╚═╝ ██║╚██████╔╝██╔╝ ██╗
#    ╚═╝   ╚═╝     ╚═╝ ╚═════╝ ╚═╝  ╚═╝

set -g default-shell /usr/bin/zsh
set -g default-command "$SHELL"
unbind r
bind r source-file ~/.tmux.conf
set -g prefix C-z
unbind C-b
set -g mouse on

#  Binding ALT+1-0 to go to window 1-10 in a session 

bind -n M-1 select-window -t 1
bind -n M-2 select-window -t 2
bind -n M-3 select-window -t 3
bind -n M-4 select-window -t 4
bind -n M-5 select-window -t 5
bind -n M-6 select-window -t 6
bind -n M-7 select-window -t 7
bind -n M-8 select-window -t 8
bind -n M-9 select-window -t 9
bind -n M-0 select-window -t 10

# Setting statusline/bar position to be at the bottom

set -g status-position bottom

set -g popup-border-lines single

bind-key Left split-window -hb -c "#{pane_current_path}"
bind-key Down split-window -v -c "#{pane_current_path}"
bind-key Up split-window -vb -c "#{pane_current_path}"
bind-key Right split-window -h -p 30 -c "#{pane_current_path}"
unbind-key -n C-w
bind-key -n C-w kill-window
bind-key -n C-t new-window
bind-key -n M-Left select-pane -L
bind-key -n M-Down select-pane -D
bind-key -n M-Up select-pane -U
bind-key -n M-Right select-pane -R

bind C-l display-popup \
  -d "#{pane_current_path}" \
  -w 90% \
  -h 90% \
  -E "lazygit"


bind p display-popup \
  -d "#{pane_current_path}" \
  -w 80% \
  -h 80%


bind-key > next-window
bind-key < previous-window

set -g base-index 1
set -g renumber-windows on
set -g escape-time 0

bind-key -n C-S-Right swap-window -t -1
bind-key -n C-S-Right swap-window -t +1

setw -g pane-base-index 1

# sync panes - write the same thing everywhere
bind-key n set-window-option synchronize-panes\; display-message "Sync mode toggled"

set-option -a terminal-features 'xterm-256color:RGB'
setw -g mode-keys vi
bind P paste-buffer

# Plugins
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin "janoamaral/tokyo-night-tmux"
set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tmux-plugins/tmux-continuum'
set -g @plugin 'sainnhe/tmux-fzf'
set -g @plugin '27medkamal/tmux-session-wizard'
set -g @plugin 'tmux-plugins/tmux-yank'
set -g @plugin 'tmux-plugins/tmux-copycat'
set -g @plugin 'christoomey/vim-tmux-navigator'
set-option -g @plugin 'b0o/tmux-autoreload'

# Theme settings (UI)
set -g @tokyo-night-tmux_theme moon              # storm | day | default to 'night'
set -g @tokyo-night-tmux_transparent 1            # 1 or 0
set -g @tokyo-night-tmux_window_id_style fsquare
set -g @tokyo-night-tmux_pane_id_style hsquare
set -g @tokyo-night-tmux_zoom_id_style dsquare
set -g @tokyo-night-tmux_show_path 0
set -g @tokyo-night-tmux_show_datetime 0


# Session Wizard + Continuum
set -g @session-wizard-height 60
set -g @session-wizard 's T'
set -g @continuum-restore 'on'

# Enable TPM
run '~/.tmux/plugins/tpm/tpm'
set-option -g allow-rename off
set-option -g automatic-rename off
set -g status on

bind-key -n C-l if-shell "$is_vim" "send-keys C-l"  "send-keys C-l"

# Disable visual bell/notifications
set -g visual-activity off
set -g visual-bell off
set -g visual-silence off
setw -g monitor-activity off
set -g bell-action none

unbind -n C-h
bind -n C-h send-keys C-h
unbind -n Tab
unbind Tab

set -g pane-border-status off
set -g pane-border-format ''
set -g pane-border-lines single
